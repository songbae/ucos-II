GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 1


   1               		.file	"lab2.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	Buzzer
  10               		.type	Buzzer, @function
  11               	Buzzer:
  12 0000 0F93      		push r16
  13 0002 1F93      		push r17
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16               	/* stack size = 2 */
  17               	.L__stack_usage = 2
  18 0004 8091 0000 		lds r24,buzzer_grp
  19 0008 9091 0000 		lds r25,buzzer_grp+1
  20 000c 6FEF      		ldi r22,lo8(-1)
  21 000e 42E0      		ldi r20,lo8(2)
  22 0010 20E0      		ldi r18,lo8(0)
  23 0012 30E0      		ldi r19,hi8(0)
  24 0014 00E0      		ldi r16,lo8(err)
  25 0016 10E0      		ldi r17,hi8(err)
  26 0018 0E94 0000 		call OSFlagPend
  27 001c 1092 0000 		sts idx+1,__zero_reg__
  28 0020 1092 0000 		sts idx,__zero_reg__
  29 0024 80E4      		ldi r24,lo8(64)
  30 0026 87BF      		out 87-32,r24
  31 0028 E091 0000 		lds r30,melody_idx
  32 002c F091 0000 		lds r31,melody_idx+1
  33 0030 E050      		subi r30,lo8(-(win_melody))
  34 0032 F040      		sbci r31,hi8(-(win_melody))
  35 0034 8081      		ld r24,Z
  36 0036 84BD      		out 68-32,r24
  37 0038 8091 0000 		lds r24,melody_idx
  38 003c 9091 0000 		lds r25,melody_idx+1
  39 0040 8931      		cpi r24,25
  40 0042 9105      		cpc r25,__zero_reg__
  41 0044 04F4      		brge .L2
  42               	.L4:
  43 0046 8091 0000 		lds r24,melody_idx
  44 004a 9091 0000 		lds r25,melody_idx+1
  45 004e 0196      		adiw r24,1
  46 0050 9093 0000 		sts melody_idx+1,r25
  47 0054 8093 0000 		sts melody_idx,r24
  48 0058 8FEF      		 ldi r24,lo8(1599999)
  49 005a 99E6      	    ldi r25,hi8(1599999)
  50 005c A8E1      	    ldi r26,hlo8(1599999)
  51 005e 8150      	    1:subi r24,1
  52 0060 9040      	    sbci r25,0
  53 0062 A040      	    sbci r26,0
  54 0064 01F4      	    brne 1b
  55 0066 00C0      		rjmp .
  56 0068 0000      		nop
  57 006a 8091 0000 		lds r24,melody_idx
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 2


  58 006e 9091 0000 		lds r25,melody_idx+1
  59 0072 8931      		cpi r24,25
  60 0074 9105      		cpc r25,__zero_reg__
  61 0076 04F0      		brlt .L4
  62               	.L2:
  63 0078 1092 0000 		sts melody_idx+1,__zero_reg__
  64 007c 1092 0000 		sts melody_idx,__zero_reg__
  65 0080 8091 0000 		lds r24,led_grp
  66 0084 9091 0000 		lds r25,led_grp+1
  67 0088 6FEF      		ldi r22,lo8(-1)
  68 008a 41E0      		ldi r20,lo8(1)
  69 008c 20E0      		ldi r18,lo8(err)
  70 008e 30E0      		ldi r19,hi8(err)
  71 0090 0E94 0000 		call OSFlagPost
  72               	/* epilogue start */
  73 0094 1F91      		pop r17
  74 0096 0F91      		pop r16
  75 0098 0895      		ret
  76               		.size	Buzzer, .-Buzzer
  77               	.global	Buzzer1
  78               		.type	Buzzer1, @function
  79               	Buzzer1:
  80 009a 0F93      		push r16
  81 009c 1F93      		push r17
  82               	/* prologue: function */
  83               	/* frame size = 0 */
  84               	/* stack size = 2 */
  85               	.L__stack_usage = 2
  86 009e 8091 0000 		lds r24,buzzer1_grp
  87 00a2 9091 0000 		lds r25,buzzer1_grp+1
  88 00a6 6FEF      		ldi r22,lo8(-1)
  89 00a8 42E0      		ldi r20,lo8(2)
  90 00aa 20E0      		ldi r18,lo8(0)
  91 00ac 30E0      		ldi r19,hi8(0)
  92 00ae 00E0      		ldi r16,lo8(err)
  93 00b0 10E0      		ldi r17,hi8(err)
  94 00b2 0E94 0000 		call OSFlagPend
  95 00b6 80E4      		ldi r24,lo8(64)
  96 00b8 87BF      		out 87-32,r24
  97 00ba 81E0      		ldi r24,lo8(1)
  98 00bc 90E0      		ldi r25,hi8(1)
  99 00be 9093 0000 		sts idx+1,r25
 100 00c2 8093 0000 		sts idx,r24
 101 00c6 E091 0000 		lds r30,melody_idx
 102 00ca F091 0000 		lds r31,melody_idx+1
 103 00ce E050      		subi r30,lo8(-(win_melody))
 104 00d0 F040      		sbci r31,hi8(-(win_melody))
 105 00d2 818D      		ldd r24,Z+25
 106 00d4 84BD      		out 68-32,r24
 107 00d6 8091 0000 		lds r24,melody_idx
 108 00da 9091 0000 		lds r25,melody_idx+1
 109 00de 8931      		cpi r24,25
 110 00e0 9105      		cpc r25,__zero_reg__
 111 00e2 04F4      		brge .L8
 112               	.L10:
 113 00e4 8091 0000 		lds r24,melody_idx
 114 00e8 9091 0000 		lds r25,melody_idx+1
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 3


 115 00ec 0196      		adiw r24,1
 116 00ee 9093 0000 		sts melody_idx+1,r25
 117 00f2 8093 0000 		sts melody_idx,r24
 118 00f6 8FEF      		 ldi r24,lo8(1599999)
 119 00f8 99E6      	    ldi r25,hi8(1599999)
 120 00fa A8E1      	    ldi r26,hlo8(1599999)
 121 00fc 8150      	    1:subi r24,1
 122 00fe 9040      	    sbci r25,0
 123 0100 A040      	    sbci r26,0
 124 0102 01F4      	    brne 1b
 125 0104 00C0      		rjmp .
 126 0106 0000      		nop
 127 0108 8091 0000 		lds r24,melody_idx
 128 010c 9091 0000 		lds r25,melody_idx+1
 129 0110 8931      		cpi r24,25
 130 0112 9105      		cpc r25,__zero_reg__
 131 0114 04F0      		brlt .L10
 132               	.L8:
 133 0116 1092 0000 		sts melody_idx+1,__zero_reg__
 134 011a 1092 0000 		sts melody_idx,__zero_reg__
 135 011e 8091 0000 		lds r24,led_grp
 136 0122 9091 0000 		lds r25,led_grp+1
 137 0126 6FEF      		ldi r22,lo8(-1)
 138 0128 41E0      		ldi r20,lo8(1)
 139 012a 20E0      		ldi r18,lo8(err)
 140 012c 30E0      		ldi r19,hi8(err)
 141 012e 0E94 0000 		call OSFlagPost
 142               	/* epilogue start */
 143 0132 1F91      		pop r17
 144 0134 0F91      		pop r16
 145 0136 0895      		ret
 146               		.size	Buzzer1, .-Buzzer1
 147               	.global	Led
 148               		.type	Led, @function
 149               	Led:
 150 0138 5F92      		push r5
 151 013a 6F92      		push r6
 152 013c 7F92      		push r7
 153 013e 8F92      		push r8
 154 0140 9F92      		push r9
 155 0142 AF92      		push r10
 156 0144 BF92      		push r11
 157 0146 CF92      		push r12
 158 0148 DF92      		push r13
 159 014a EF92      		push r14
 160 014c FF92      		push r15
 161 014e 0F93      		push r16
 162 0150 1F93      		push r17
 163 0152 DF93      		push r29
 164 0154 CF93      		push r28
 165 0156 0F92      		push __tmp_reg__
 166 0158 CDB7      		in r28,__SP_L__
 167 015a DEB7      		in r29,__SP_H__
 168               	/* prologue: function */
 169               	/* frame size = 1 */
 170               	/* stack size = 16 */
 171               	.L__stack_usage = 16
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 4


 172 015c 1BBA      		out 59-32,__zero_reg__
 173 015e 8091 0000 		lds r24,Mbox
 174 0162 9091 0000 		lds r25,Mbox+1
 175 0166 60E0      		ldi r22,lo8(0)
 176 0168 70E0      		ldi r23,hi8(0)
 177 016a 40E0      		ldi r20,lo8(err)
 178 016c 50E0      		ldi r21,hi8(err)
 179 016e 0E94 0000 		call OSMboxPend
 180 0172 DC01      		movw r26,r24
 181 0174 2D91      		ld r18,X+
 182 0176 3C91      		ld r19,X
 183 0178 1197      		sbiw r26,1
 184 017a 8EEC      		ldi r24,lo8(-50)
 185 017c 9FEF      		ldi r25,hi8(-50)
 186 017e 289F      		mul r18,r24
 187 0180 7001      		movw r14,r0
 188 0182 299F      		mul r18,r25
 189 0184 F00C      		add r15,r0
 190 0186 389F      		mul r19,r24
 191 0188 F00C      		add r15,r0
 192 018a 1124      		clr r1
 193 018c E8EC      		ldi r30,lo8(200)
 194 018e F0E0      		ldi r31,hi8(200)
 195 0190 EE0E      		add r14,r30
 196 0192 FF1E      		adc r15,r31
 197 0194 00E0      		ldi r16,lo8(0)
 198 0196 10E0      		ldi r17,hi8(0)
 199 0198 6E01      		movw r12,r28
 200 019a 0894      		sec
 201 019c C11C      		adc r12,__zero_reg__
 202 019e D11C      		adc r13,__zero_reg__
 203 01a0 20E8      		ldi r18,lo8(128)
 204 01a2 622E      		mov r6,r18
 205 01a4 712C      		mov r7,__zero_reg__
 206 01a6 AA24      		clr r10
 207 01a8 AA94      		dec r10
 208 01aa 90E5      		ldi r25,lo8(80)
 209 01ac 592E      		mov r5,r25
 210 01ae 86E4      		ldi r24,lo8(70)
 211 01b0 B82E      		mov r11,r24
 212 01b2 00C0      		rjmp .L16
 213               	.L13:
 214 01b4 8091 0000 		lds r24,switch_click
 215 01b8 9091 0000 		lds r25,switch_click+1
 216 01bc 8130      		cpi r24,1
 217 01be 9105      		cpc r25,__zero_reg__
 218 01c0 01F0      		breq .L18
 219               	.L14:
 220 01c2 8FEF      		 ldi r24,lo8(159999)
 221 01c4 90E7      	    ldi r25,hi8(159999)
 222 01c6 A2E0      	    ldi r26,hlo8(159999)
 223 01c8 8150      	    1:subi r24,1
 224 01ca 9040      	    sbci r25,0
 225 01cc A040      	    sbci r26,0
 226 01ce 01F4      	    brne 1b
 227 01d0 00C0      		rjmp .
 228 01d2 0000      		nop
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 5


 229               	.L16:
 230 01d4 0F5F      		subi r16,lo8(-(1))
 231 01d6 1F4F      		sbci r17,hi8(-(1))
 232 01d8 0E15      		cp r16,r14
 233 01da 1F05      		cpc r17,r15
 234 01dc 04F0      		brlt .L13
 235 01de 8091 0000 		lds r24,Sem
 236 01e2 9091 0000 		lds r25,Sem+1
 237 01e6 60E0      		ldi r22,lo8(0)
 238 01e8 70E0      		ldi r23,hi8(0)
 239 01ea 40E0      		ldi r20,lo8(err)
 240 01ec 50E0      		ldi r21,hi8(err)
 241 01ee 0E94 0000 		call OSSemPend
 242 01f2 1BBA      		out 59-32,__zero_reg__
 243 01f4 B982      		std Y+1,r11
 244               	.L17:
 245 01f6 8091 0000 		lds r24,Mbox+2
 246 01fa 9091 0000 		lds r25,Mbox+2+1
 247 01fe B601      		movw r22,r12
 248 0200 0E94 0000 		call OSMboxPost
 249 0204 8091 0000 		lds r24,Sem
 250 0208 9091 0000 		lds r25,Sem+1
 251 020c 0E94 0000 		call OSSemPost
 252 0210 00E0      		ldi r16,lo8(0)
 253 0212 10E0      		ldi r17,hi8(0)
 254 0214 00C0      		rjmp .L14
 255               	.L18:
 256 0216 8981      		ldd r24,Y+1
 257 0218 8634      		cpi r24,lo8(70)
 258 021a 01F0      		breq .L14
 259 021c 8091 0000 		lds r24,queue_to_led
 260 0220 9091 0000 		lds r25,queue_to_led+1
 261 0224 60E0      		ldi r22,lo8(0)
 262 0226 70E0      		ldi r23,hi8(0)
 263 0228 40E0      		ldi r20,lo8(err)
 264 022a 50E0      		ldi r21,hi8(err)
 265 022c 0E94 0000 		call OSQPend
 266 0230 DC01      		movw r26,r24
 267 0232 8D90      		ld r8,X+
 268 0234 9C90      		ld r9,X
 269 0236 1197      		sbiw r26,1
 270 0238 1092 0000 		sts switch_click+1,__zero_reg__
 271 023c 1092 0000 		sts switch_click,__zero_reg__
 272 0240 B7E0      		ldi r27,lo8(7)
 273 0242 8B16      		cp r8,r27
 274 0244 9104      		cpc r9,__zero_reg__
 275 0246 01F0      		breq .L19
 276 0248 8091 0000 		lds r24,Sem
 277 024c 9091 0000 		lds r25,Sem+1
 278 0250 60E0      		ldi r22,lo8(0)
 279 0252 70E0      		ldi r23,hi8(0)
 280 0254 40E0      		ldi r20,lo8(err)
 281 0256 50E0      		ldi r21,hi8(err)
 282 0258 0E94 0000 		call OSSemPend
 283 025c 8BB3      		in r24,59-32
 284 025e F301      		movw r30,r6
 285 0260 00C0      		rjmp 2f
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 6


 286 0262 F595      	1:	asr r31
 287 0264 E795      		ror r30
 288 0266 8A94      	2:	dec r8
 289 0268 02F4      		brpl 1b
 290 026a 8E0F      		add r24,r30
 291 026c 8BBB      		out 59-32,r24
 292 026e 8091 0000 		lds r24,Sem
 293 0272 9091 0000 		lds r25,Sem+1
 294 0276 0E94 0000 		call OSSemPost
 295 027a 00C0      		rjmp .L14
 296               	.L19:
 297 027c 8091 0000 		lds r24,Sem
 298 0280 9091 0000 		lds r25,Sem+1
 299 0284 60E0      		ldi r22,lo8(0)
 300 0286 70E0      		ldi r23,hi8(0)
 301 0288 40E0      		ldi r20,lo8(err)
 302 028a 50E0      		ldi r21,hi8(err)
 303 028c 0E94 0000 		call OSSemPend
 304 0290 ABBA      		out 59-32,r10
 305 0292 5982      		std Y+1,r5
 306 0294 00C0      		rjmp .L17
 307               		.size	Led, .-Led
 308               	.global	__vector_10
 309               		.type	__vector_10, @function
 310               	__vector_10:
 311 0296 1F92      		push __zero_reg__
 312 0298 0F92      		push r0
 313 029a 0FB6      		in r0,__SREG__
 314 029c 0F92      		push r0
 315 029e 0BB6      		in r0,91-32
 316 02a0 0F92      		push r0
 317 02a2 1124      		clr __zero_reg__
 318 02a4 2F93      		push r18
 319 02a6 3F93      		push r19
 320 02a8 8F93      		push r24
 321 02aa 9F93      		push r25
 322 02ac EF93      		push r30
 323 02ae FF93      		push r31
 324               	/* prologue: Signal */
 325               	/* frame size = 0 */
 326               	/* stack size = 10 */
 327               	.L__stack_usage = 10
 328 02b0 8091 0000 		lds r24,buzzer_state
 329 02b4 9091 0000 		lds r25,buzzer_state+1
 330 02b8 8130      		cpi r24,1
 331 02ba 9105      		cpc r25,__zero_reg__
 332 02bc 01F0      		breq .L23
 333 02be 80E1      		ldi r24,lo8(16)
 334 02c0 88BB      		out 56-32,r24
 335 02c2 81E0      		ldi r24,lo8(1)
 336 02c4 90E0      		ldi r25,hi8(1)
 337 02c6 9093 0000 		sts buzzer_state+1,r25
 338 02ca 8093 0000 		sts buzzer_state,r24
 339               	.L22:
 340 02ce 8091 0000 		lds r24,idx
 341 02d2 9091 0000 		lds r25,idx+1
 342 02d6 2091 0000 		lds r18,melody_idx
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 7


 343 02da 3091 0000 		lds r19,melody_idx+1
 344 02de FC01      		movw r30,r24
 345 02e0 EE0F      		lsl r30
 346 02e2 FF1F      		rol r31
 347 02e4 E80F      		add r30,r24
 348 02e6 F91F      		adc r31,r25
 349 02e8 EE0F      		lsl r30
 350 02ea FF1F      		rol r31
 351 02ec EE0F      		lsl r30
 352 02ee FF1F      		rol r31
 353 02f0 EE0F      		lsl r30
 354 02f2 FF1F      		rol r31
 355 02f4 E80F      		add r30,r24
 356 02f6 F91F      		adc r31,r25
 357 02f8 E20F      		add r30,r18
 358 02fa F31F      		adc r31,r19
 359 02fc E050      		subi r30,lo8(-(win_melody))
 360 02fe F040      		sbci r31,hi8(-(win_melody))
 361 0300 8081      		ld r24,Z
 362 0302 84BD      		out 68-32,r24
 363               	/* epilogue start */
 364 0304 FF91      		pop r31
 365 0306 EF91      		pop r30
 366 0308 9F91      		pop r25
 367 030a 8F91      		pop r24
 368 030c 3F91      		pop r19
 369 030e 2F91      		pop r18
 370 0310 0F90      		pop r0
 371 0312 0BBE      		out 91-32,r0
 372 0314 0F90      		pop r0
 373 0316 0FBE      		out __SREG__,r0
 374 0318 0F90      		pop r0
 375 031a 1F90      		pop __zero_reg__
 376 031c 1895      		reti
 377               	.L23:
 378 031e 18BA      		out 56-32,__zero_reg__
 379 0320 1092 0000 		sts buzzer_state+1,__zero_reg__
 380 0324 1092 0000 		sts buzzer_state,__zero_reg__
 381 0328 00C0      		rjmp .L22
 382               		.size	__vector_10, .-__vector_10
 383               	.global	__vector_5
 384               		.type	__vector_5, @function
 385               	__vector_5:
 386 032a 1F92      		push __zero_reg__
 387 032c 0F92      		push r0
 388 032e 0FB6      		in r0,__SREG__
 389 0330 0F92      		push r0
 390 0332 0BB6      		in r0,91-32
 391 0334 0F92      		push r0
 392 0336 1124      		clr __zero_reg__
 393 0338 2F93      		push r18
 394 033a 3F93      		push r19
 395 033c 4F93      		push r20
 396 033e 5F93      		push r21
 397 0340 6F93      		push r22
 398 0342 7F93      		push r23
 399 0344 8F93      		push r24
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 8


 400 0346 9F93      		push r25
 401 0348 AF93      		push r26
 402 034a BF93      		push r27
 403 034c EF93      		push r30
 404 034e FF93      		push r31
 405               	/* prologue: Signal */
 406               	/* frame size = 0 */
 407               	/* stack size = 16 */
 408               	.L__stack_usage = 16
 409 0350 8091 0000 		lds r24,Sem
 410 0354 9091 0000 		lds r25,Sem+1
 411 0358 60E0      		ldi r22,lo8(0)
 412 035a 70E0      		ldi r23,hi8(0)
 413 035c 40E0      		ldi r20,lo8(err)
 414 035e 50E0      		ldi r21,hi8(err)
 415 0360 0E94 0000 		call OSSemPend
 416 0364 8091 0000 		lds r24,switch_state
 417 0368 9091 0000 		lds r25,switch_state+1
 418 036c 0097      		sbiw r24,0
 419 036e 01F4      		brne .L25
 420 0370 1BBA      		out 59-32,__zero_reg__
 421               	.L25:
 422 0372 81E0      		ldi r24,lo8(1)
 423 0374 90E0      		ldi r25,hi8(1)
 424 0376 9093 0000 		sts switch_state+1,r25
 425 037a 8093 0000 		sts switch_state,r24
 426 037e 9093 0000 		sts switch_click+1,r25
 427 0382 8093 0000 		sts switch_click,r24
 428 0386 8091 0000 		lds r24,switch_cnt
 429 038a 9091 0000 		lds r25,switch_cnt+1
 430 038e 8830      		cpi r24,8
 431 0390 9105      		cpc r25,__zero_reg__
 432 0392 04F4      		brge .L26
 433 0394 8091 0000 		lds r24,switch_cnt
 434 0398 9091 0000 		lds r25,switch_cnt+1
 435 039c 0196      		adiw r24,1
 436 039e 9093 0000 		sts switch_cnt+1,r25
 437 03a2 8093 0000 		sts switch_cnt,r24
 438 03a6 8091 0000 		lds r24,queue_to_led
 439 03aa 9091 0000 		lds r25,queue_to_led+1
 440 03ae 60E0      		ldi r22,lo8(switch_cnt)
 441 03b0 70E0      		ldi r23,hi8(switch_cnt)
 442 03b2 0E94 0000 		call OSQPost
 443               	.L26:
 444 03b6 8091 0000 		lds r24,Sem
 445 03ba 9091 0000 		lds r25,Sem+1
 446 03be 0E94 0000 		call OSSemPost
 447               	/* epilogue start */
 448 03c2 FF91      		pop r31
 449 03c4 EF91      		pop r30
 450 03c6 BF91      		pop r27
 451 03c8 AF91      		pop r26
 452 03ca 9F91      		pop r25
 453 03cc 8F91      		pop r24
 454 03ce 7F91      		pop r23
 455 03d0 6F91      		pop r22
 456 03d2 5F91      		pop r21
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 9


 457 03d4 4F91      		pop r20
 458 03d6 3F91      		pop r19
 459 03d8 2F91      		pop r18
 460 03da 0F90      		pop r0
 461 03dc 0BBE      		out 91-32,r0
 462 03de 0F90      		pop r0
 463 03e0 0FBE      		out __SREG__,r0
 464 03e2 0F90      		pop r0
 465 03e4 1F90      		pop __zero_reg__
 466 03e6 1895      		reti
 467               		.size	__vector_5, .-__vector_5
 468               	.global	__vector_6
 469               		.type	__vector_6, @function
 470               	__vector_6:
 471 03e8 1F92      		push __zero_reg__
 472 03ea 0F92      		push r0
 473 03ec 0FB6      		in r0,__SREG__
 474 03ee 0F92      		push r0
 475 03f0 0BB6      		in r0,91-32
 476 03f2 0F92      		push r0
 477 03f4 1124      		clr __zero_reg__
 478 03f6 2F93      		push r18
 479 03f8 3F93      		push r19
 480 03fa 4F93      		push r20
 481 03fc 5F93      		push r21
 482 03fe 6F93      		push r22
 483 0400 7F93      		push r23
 484 0402 8F93      		push r24
 485 0404 9F93      		push r25
 486 0406 AF93      		push r26
 487 0408 BF93      		push r27
 488 040a EF93      		push r30
 489 040c FF93      		push r31
 490               	/* prologue: Signal */
 491               	/* frame size = 0 */
 492               	/* stack size = 16 */
 493               	.L__stack_usage = 16
 494 040e 8091 0000 		lds r24,Sem
 495 0412 9091 0000 		lds r25,Sem+1
 496 0416 60E0      		ldi r22,lo8(0)
 497 0418 70E0      		ldi r23,hi8(0)
 498 041a 40E0      		ldi r20,lo8(err)
 499 041c 50E0      		ldi r21,hi8(err)
 500 041e 0E94 0000 		call OSSemPend
 501 0422 81E0      		ldi r24,lo8(1)
 502 0424 90E0      		ldi r25,hi8(1)
 503 0426 9093 0000 		sts test_case+1,r25
 504 042a 8093 0000 		sts test_case,r24
 505 042e 8091 0000 		lds r24,Sem
 506 0432 9091 0000 		lds r25,Sem+1
 507 0436 0E94 0000 		call OSSemPost
 508               	/* epilogue start */
 509 043a FF91      		pop r31
 510 043c EF91      		pop r30
 511 043e BF91      		pop r27
 512 0440 AF91      		pop r26
 513 0442 9F91      		pop r25
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 10


 514 0444 8F91      		pop r24
 515 0446 7F91      		pop r23
 516 0448 6F91      		pop r22
 517 044a 5F91      		pop r21
 518 044c 4F91      		pop r20
 519 044e 3F91      		pop r19
 520 0450 2F91      		pop r18
 521 0452 0F90      		pop r0
 522 0454 0BBE      		out 91-32,r0
 523 0456 0F90      		pop r0
 524 0458 0FBE      		out __SREG__,r0
 525 045a 0F90      		pop r0
 526 045c 1F90      		pop __zero_reg__
 527 045e 1895      		reti
 528               		.size	__vector_6, .-__vector_6
 529               	.global	main
 530               		.type	main, @function
 531               	main:
 532 0460 CF93      		push r28
 533 0462 DF93      		push r29
 534               	/* prologue: function */
 535               	/* frame size = 0 */
 536               	/* stack size = 2 */
 537               	.L__stack_usage = 2
 538 0464 0E94 0000 		call OSInit
 539               	/* #APP */
 540               	 ;  112 "lab2.c" 1
 541 0468 F894      		cli
 542               	 ;  0 "" 2
 543               	/* #NOAPP */
 544 046a 8FEF      		ldi r24,lo8(-1)
 545 046c 8ABB      		out 58-32,r24
 546 046e 80E1      		ldi r24,lo8(16)
 547 0470 87BB      		out 55-32,r24
 548 0472 8FEC      		ldi r24,lo8(-49)
 549 0474 82B9      		out 34-32,r24
 550 0476 8AE0      		ldi r24,lo8(10)
 551 0478 8ABF      		out 90-32,r24
 552 047a 80E3      		ldi r24,lo8(48)
 553 047c 89BF      		out 89-32,r24
 554 047e 8FB7      		in r24,__SREG__
 555 0480 8068      		ori r24,lo8(-128)
 556 0482 8FBF      		out __SREG__,r24
 557 0484 17B8      		out 39-32,__zero_reg__
 558 0486 87E8      		ldi r24,lo8(-121)
 559 0488 86B9      		out 38-32,r24
 560 048a 83E0      		ldi r24,lo8(3)
 561 048c 85BD      		out 69-32,r24
 562 048e 17BE      		out 87-32,__zero_reg__
 563 0490 8091 0000 		lds r24,idx
 564 0494 9091 0000 		lds r25,idx+1
 565 0498 2091 0000 		lds r18,melody_idx
 566 049c 3091 0000 		lds r19,melody_idx+1
 567 04a0 FC01      		movw r30,r24
 568 04a2 EE0F      		lsl r30
 569 04a4 FF1F      		rol r31
 570 04a6 E80F      		add r30,r24
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 11


 571 04a8 F91F      		adc r31,r25
 572 04aa EE0F      		lsl r30
 573 04ac FF1F      		rol r31
 574 04ae EE0F      		lsl r30
 575 04b0 FF1F      		rol r31
 576 04b2 EE0F      		lsl r30
 577 04b4 FF1F      		rol r31
 578 04b6 E80F      		add r30,r24
 579 04b8 F91F      		adc r31,r25
 580 04ba E20F      		add r30,r18
 581 04bc F31F      		adc r31,r19
 582 04be E050      		subi r30,lo8(-(win_melody))
 583 04c0 F040      		sbci r31,hi8(-(win_melody))
 584 04c2 8081      		ld r24,Z
 585 04c4 84BD      		out 68-32,r24
 586 04c6 81E0      		ldi r24,lo8(1)
 587 04c8 90E0      		ldi r25,hi8(1)
 588 04ca 0E94 0000 		call OSSemCreate
 589 04ce 9093 0000 		sts Sem+1,r25
 590 04d2 8093 0000 		sts Sem,r24
 591 04d6 80E0      		ldi r24,lo8(0)
 592 04d8 90E0      		ldi r25,hi8(0)
 593 04da 0E94 0000 		call OSMboxCreate
 594 04de 9093 0000 		sts Mbox+1,r25
 595 04e2 8093 0000 		sts Mbox,r24
 596 04e6 80E0      		ldi r24,lo8(0)
 597 04e8 90E0      		ldi r25,hi8(0)
 598 04ea 0E94 0000 		call OSMboxCreate
 599 04ee 9093 0000 		sts Mbox+2+1,r25
 600 04f2 8093 0000 		sts Mbox+2,r24
 601 04f6 80E0      		ldi r24,lo8(0)
 602 04f8 90E0      		ldi r25,hi8(0)
 603 04fa 0E94 0000 		call OSMboxCreate
 604 04fe 9093 0000 		sts Mbox+4+1,r25
 605 0502 8093 0000 		sts Mbox+4,r24
 606 0506 80E0      		ldi r24,lo8(led_queue)
 607 0508 90E0      		ldi r25,hi8(led_queue)
 608 050a 64E0      		ldi r22,lo8(4)
 609 050c 70E0      		ldi r23,hi8(4)
 610 050e 0E94 0000 		call OSQCreate
 611 0512 9093 0000 		sts queue_to_led+1,r25
 612 0516 8093 0000 		sts queue_to_led,r24
 613 051a C0E0      		ldi r28,lo8(err)
 614 051c D0E0      		ldi r29,hi8(err)
 615 051e 80E0      		ldi r24,lo8(0)
 616 0520 BE01      		movw r22,r28
 617 0522 0E94 0000 		call OSFlagCreate
 618 0526 9093 0000 		sts led_grp+1,r25
 619 052a 8093 0000 		sts led_grp,r24
 620 052e 80E0      		ldi r24,lo8(0)
 621 0530 BE01      		movw r22,r28
 622 0532 0E94 0000 		call OSFlagCreate
 623 0536 9093 0000 		sts buzzer_grp+1,r25
 624 053a 8093 0000 		sts buzzer_grp,r24
 625 053e 80E0      		ldi r24,lo8(0)
 626 0540 BE01      		movw r22,r28
 627 0542 0E94 0000 		call OSFlagCreate
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 12


 628 0546 9093 0000 		sts buzzer1_grp+1,r25
 629 054a 8093 0000 		sts buzzer1_grp,r24
 630 054e 80E0      		ldi r24,lo8(gs(Fnd))
 631 0550 90E0      		ldi r25,hi8(gs(Fnd))
 632 0552 60E0      		ldi r22,lo8(0)
 633 0554 70E0      		ldi r23,hi8(0)
 634 0556 40E0      		ldi r20,lo8(TaskStk+127)
 635 0558 50E0      		ldi r21,hi8(TaskStk+127)
 636 055a 21E0      		ldi r18,lo8(1)
 637 055c 0E94 0000 		call OSTaskCreate
 638 0560 80E0      		ldi r24,lo8(gs(Buzzer))
 639 0562 90E0      		ldi r25,hi8(gs(Buzzer))
 640 0564 60E0      		ldi r22,lo8(0)
 641 0566 70E0      		ldi r23,hi8(0)
 642 0568 40E0      		ldi r20,lo8(TaskStk+255)
 643 056a 50E0      		ldi r21,hi8(TaskStk+255)
 644 056c 22E0      		ldi r18,lo8(2)
 645 056e 0E94 0000 		call OSTaskCreate
 646 0572 80E0      		ldi r24,lo8(gs(Buzzer1))
 647 0574 90E0      		ldi r25,hi8(gs(Buzzer1))
 648 0576 60E0      		ldi r22,lo8(0)
 649 0578 70E0      		ldi r23,hi8(0)
 650 057a 40E0      		ldi r20,lo8(TaskStk+383)
 651 057c 50E0      		ldi r21,hi8(TaskStk+383)
 652 057e 23E0      		ldi r18,lo8(3)
 653 0580 0E94 0000 		call OSTaskCreate
 654 0584 80E0      		ldi r24,lo8(gs(Test))
 655 0586 90E0      		ldi r25,hi8(gs(Test))
 656 0588 60E0      		ldi r22,lo8(0)
 657 058a 70E0      		ldi r23,hi8(0)
 658 058c 40E0      		ldi r20,lo8(TaskStk+511)
 659 058e 50E0      		ldi r21,hi8(TaskStk+511)
 660 0590 24E0      		ldi r18,lo8(4)
 661 0592 0E94 0000 		call OSTaskCreate
 662 0596 80E0      		ldi r24,lo8(gs(Led))
 663 0598 90E0      		ldi r25,hi8(gs(Led))
 664 059a 60E0      		ldi r22,lo8(0)
 665 059c 70E0      		ldi r23,hi8(0)
 666 059e 40E0      		ldi r20,lo8(TaskStk+639)
 667 05a0 50E0      		ldi r21,hi8(TaskStk+639)
 668 05a2 25E0      		ldi r18,lo8(5)
 669 05a4 0E94 0000 		call OSTaskCreate
 670 05a8 0E94 0000 		call OSStart
 671 05ac 80E0      		ldi r24,lo8(0)
 672 05ae 90E0      		ldi r25,hi8(0)
 673               	/* epilogue start */
 674 05b0 DF91      		pop r29
 675 05b2 CF91      		pop r28
 676 05b4 0895      		ret
 677               		.size	main, .-main
 678               	.global	clear_fnd
 679               		.type	clear_fnd, @function
 680               	clear_fnd:
 681               	/* prologue: function */
 682               	/* frame size = 0 */
 683               	/* stack size = 0 */
 684               	.L__stack_usage = 0
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 13


 685 05b6 15BA      		out 53-32,__zero_reg__
 686 05b8 E5E6      		ldi r30,lo8(101)
 687 05ba F0E0      		ldi r31,hi8(101)
 688 05bc 81E0      		ldi r24,lo8(1)
 689 05be 8083      		st Z,r24
 690 05c0 8FE3      		 ldi r24,lo8(7999)
 691 05c2 9FE1      	    ldi r25,hi8(7999)
 692 05c4 0197      	    1:sbiw r24,1
 693 05c6 01F4      	    brne 1b
 694 05c8 00C0      		rjmp .
 695 05ca 0000      		nop
 696 05cc 82E0      		ldi r24,lo8(2)
 697 05ce 8083      		st Z,r24
 698 05d0 8FE3      		 ldi r24,lo8(7999)
 699 05d2 9FE1      	    ldi r25,hi8(7999)
 700 05d4 0197      	    1:sbiw r24,1
 701 05d6 01F4      	    brne 1b
 702 05d8 00C0      		rjmp .
 703 05da 0000      		nop
 704 05dc 84E0      		ldi r24,lo8(4)
 705 05de 8083      		st Z,r24
 706 05e0 8FE3      		 ldi r24,lo8(7999)
 707 05e2 9FE1      	    ldi r25,hi8(7999)
 708 05e4 0197      	    1:sbiw r24,1
 709 05e6 01F4      	    brne 1b
 710 05e8 00C0      		rjmp .
 711 05ea 0000      		nop
 712 05ec 88E0      		ldi r24,lo8(8)
 713 05ee 8083      		st Z,r24
 714 05f0 8FE3      		 ldi r24,lo8(7999)
 715 05f2 9FE1      	    ldi r25,hi8(7999)
 716 05f4 0197      	    1:sbiw r24,1
 717 05f6 01F4      	    brne 1b
 718 05f8 00C0      		rjmp .
 719 05fa 0000      		nop
 720 05fc 1BBA      		out 59-32,__zero_reg__
 721               	/* epilogue start */
 722 05fe 0895      		ret
 723               		.size	clear_fnd, .-clear_fnd
 724               	.global	Fnd
 725               		.type	Fnd, @function
 726               	Fnd:
 727 0600 EF92      		push r14
 728 0602 FF92      		push r15
 729 0604 0F93      		push r16
 730 0606 1F93      		push r17
 731               	/* prologue: function */
 732               	/* frame size = 0 */
 733               	/* stack size = 4 */
 734               	.L__stack_usage = 4
 735 0608 8FEF      		ldi r24,lo8(-1)
 736 060a 84BB      		out 52-32,r24
 737 060c 8FE0      		ldi r24,lo8(15)
 738 060e 8093 6400 		sts 100,r24
 739 0612 EE24      		clr r14
 740 0614 E394      		inc r14
 741 0616 62E0      		ldi r22,lo8(2)
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 14


 742 0618 F62E      		mov r15,r22
 743 061a 04E0      		ldi r16,lo8(4)
 744 061c 18E0      		ldi r17,lo8(8)
 745               	.L35:
 746 061e 8091 0000 		lds r24,Mbox+2
 747 0622 9091 0000 		lds r25,Mbox+2+1
 748 0626 60E0      		ldi r22,lo8(0)
 749 0628 70E0      		ldi r23,hi8(0)
 750 062a 40E0      		ldi r20,lo8(err)
 751 062c 50E0      		ldi r21,hi8(err)
 752 062e 0E94 0000 		call OSMboxPend
 753 0632 FC01      		movw r30,r24
 754 0634 8081      		ld r24,Z
 755 0636 8035      		cpi r24,lo8(80)
 756 0638 01F0      		breq .L38
 757 063a 8CE2      		ldi r24,lo8(300)
 758 063c 91E0      		ldi r25,hi8(300)
 759 063e 5091 0000 		lds r21,FND_DATA+23
 760 0642 4091 0000 		lds r20,FND_DATA+5
 761 0646 3091 0000 		lds r19,FND_DATA
 762 064a 2091 0000 		lds r18,FND_DATA+22
 763               	.L34:
 764 064e 55BB      		out 53-32,r21
 765 0650 E092 6500 		sts 101,r14
 766 0654 EFE3      		 ldi r30,lo8(7999)
 767 0656 FFE1      	    ldi r31,hi8(7999)
 768 0658 3197      	    1:sbiw r30,1
 769 065a 01F4      	    brne 1b
 770 065c 00C0      		rjmp .
 771 065e 0000      		nop
 772 0660 45BB      		out 53-32,r20
 773 0662 F092 6500 		sts 101,r15
 774 0666 EFE3      		 ldi r30,lo8(7999)
 775 0668 FFE1      	    ldi r31,hi8(7999)
 776 066a 3197      	    1:sbiw r30,1
 777 066c 01F4      	    brne 1b
 778 066e 00C0      		rjmp .
 779 0670 0000      		nop
 780 0672 35BB      		out 53-32,r19
 781 0674 0093 6500 		sts 101,r16
 782 0678 EFE3      		 ldi r30,lo8(7999)
 783 067a FFE1      	    ldi r31,hi8(7999)
 784 067c 3197      	    1:sbiw r30,1
 785 067e 01F4      	    brne 1b
 786 0680 00C0      		rjmp .
 787 0682 0000      		nop
 788 0684 25BB      		out 53-32,r18
 789 0686 1093 6500 		sts 101,r17
 790 068a EFE3      		 ldi r30,lo8(7999)
 791 068c FFE1      	    ldi r31,hi8(7999)
 792 068e 3197      	    1:sbiw r30,1
 793 0690 01F4      	    brne 1b
 794 0692 00C0      		rjmp .
 795 0694 0000      		nop
 796 0696 0197      		sbiw r24,1
 797 0698 01F4      		brne .L34
 798 069a 8091 0000 		lds r24,buzzer1_grp
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 15


 799 069e 9091 0000 		lds r25,buzzer1_grp+1
 800 06a2 6FEF      		ldi r22,lo8(-1)
 801 06a4 41E0      		ldi r20,lo8(1)
 802 06a6 20E0      		ldi r18,lo8(err)
 803 06a8 30E0      		ldi r19,hi8(err)
 804 06aa 0E94 0000 		call OSFlagPost
 805               	.L33:
 806 06ae 0E94 0000 		call clear_fnd
 807 06b2 00C0      		rjmp .L35
 808               	.L38:
 809 06b4 8BE2      		ldi r24,lo8(299)
 810 06b6 91E0      		ldi r25,hi8(299)
 811 06b8 5091 0000 		lds r21,FND_DATA+21
 812 06bc 4091 0000 		lds r20,FND_DATA+1
 813 06c0 3091 0000 		lds r19,FND_DATA+20
 814 06c4 2091 0000 		lds r18,FND_DATA+19
 815               	.L32:
 816 06c8 55BB      		out 53-32,r21
 817 06ca E092 6500 		sts 101,r14
 818 06ce EFE3      		 ldi r30,lo8(7999)
 819 06d0 FFE1      	    ldi r31,hi8(7999)
 820 06d2 3197      	    1:sbiw r30,1
 821 06d4 01F4      	    brne 1b
 822 06d6 00C0      		rjmp .
 823 06d8 0000      		nop
 824 06da 45BB      		out 53-32,r20
 825 06dc F092 6500 		sts 101,r15
 826 06e0 EFE3      		 ldi r30,lo8(7999)
 827 06e2 FFE1      	    ldi r31,hi8(7999)
 828 06e4 3197      	    1:sbiw r30,1
 829 06e6 01F4      	    brne 1b
 830 06e8 00C0      		rjmp .
 831 06ea 0000      		nop
 832 06ec 35BB      		out 53-32,r19
 833 06ee 0093 6500 		sts 101,r16
 834 06f2 EFE3      		 ldi r30,lo8(7999)
 835 06f4 FFE1      	    ldi r31,hi8(7999)
 836 06f6 3197      	    1:sbiw r30,1
 837 06f8 01F4      	    brne 1b
 838 06fa 00C0      		rjmp .
 839 06fc 0000      		nop
 840 06fe 25BB      		out 53-32,r18
 841 0700 1093 6500 		sts 101,r17
 842 0704 EFE3      		 ldi r30,lo8(7999)
 843 0706 FFE1      	    ldi r31,hi8(7999)
 844 0708 3197      	    1:sbiw r30,1
 845 070a 01F4      	    brne 1b
 846 070c 00C0      		rjmp .
 847 070e 0000      		nop
 848 0710 0197      		sbiw r24,1
 849 0712 FFEF      		ldi r31,hi8(-1)
 850 0714 8F3F      		cpi r24,lo8(-1)
 851 0716 9F07      		cpc r25,r31
 852 0718 01F4      		brne .L32
 853 071a 8091 0000 		lds r24,buzzer_grp
 854 071e 9091 0000 		lds r25,buzzer_grp+1
 855 0722 6FEF      		ldi r22,lo8(-1)
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 16


 856 0724 41E0      		ldi r20,lo8(1)
 857 0726 20E0      		ldi r18,lo8(err)
 858 0728 30E0      		ldi r19,hi8(err)
 859 072a 0E94 0000 		call OSFlagPost
 860 072e 00C0      		rjmp .L33
 861               		.size	Fnd, .-Fnd
 862               	.global	light
 863               		.type	light, @function
 864               	light:
 865               	/* prologue: function */
 866               	/* frame size = 0 */
 867               	/* stack size = 0 */
 868               	.L__stack_usage = 0
 869 0730 369A      		sbi 38-32,6
 870               	.L40:
 871 0732 349B      		sbis 38-32,4
 872 0734 00C0      		rjmp .L40
 873 0736 24B1      		in r18,36-32
 874 0738 35B1      		in r19,37-32
 875 073a 932F      		mov r25,r19
 876 073c 80E0      		ldi r24,lo8(0)
 877 073e 30E0      		ldi r19,lo8(0)
 878 0740 282B      		or r18,r24
 879 0742 392B      		or r19,r25
 880 0744 C901      		movw r24,r18
 881               	/* epilogue start */
 882 0746 0895      		ret
 883               		.size	light, .-light
 884               	.global	Test_case
 885               		.type	Test_case, @function
 886               	Test_case:
 887               	/* prologue: function */
 888               	/* frame size = 0 */
 889               	/* stack size = 0 */
 890               	.L__stack_usage = 0
 891 0748 23E0      		ldi r18,hi8(871)
 892 074a 8736      		cpi r24,lo8(871)
 893 074c 9207      		cpc r25,r18
 894 074e 00F0      		brlo .L45
 895 0750 0895      		ret
 896               	.L45:
 897 0752 8091 0000 		lds r24,Sem
 898 0756 9091 0000 		lds r25,Sem+1
 899 075a 60E0      		ldi r22,lo8(0)
 900 075c 70E0      		ldi r23,hi8(0)
 901 075e 40E0      		ldi r20,lo8(err)
 902 0760 50E0      		ldi r21,hi8(err)
 903 0762 0E94 0000 		call OSSemPend
 904 0766 8091 0000 		lds r24,test
 905 076a 9091 0000 		lds r25,test+1
 906 076e 0196      		adiw r24,1
 907 0770 9093 0000 		sts test+1,r25
 908 0774 8093 0000 		sts test,r24
 909 0778 8091 0000 		lds r24,test
 910 077c 9091 0000 		lds r25,test+1
 911 0780 8430      		cpi r24,4
 912 0782 9105      		cpc r25,__zero_reg__
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 17


 913 0784 01F0      		breq .L46
 914               	.L44:
 915 0786 8FEF      		 ldi r24,lo8(319999)
 916 0788 91EE      	    ldi r25,hi8(319999)
 917 078a A4E0      	    ldi r26,hlo8(319999)
 918 078c 8150      	    1:subi r24,1
 919 078e 9040      	    sbci r25,0
 920 0790 A040      	    sbci r26,0
 921 0792 01F4      	    brne 1b
 922 0794 00C0      		rjmp .
 923 0796 0000      		nop
 924 0798 8091 0000 		lds r24,Sem
 925 079c 9091 0000 		lds r25,Sem+1
 926 07a0 0E94 0000 		call OSSemPost
 927 07a4 0895      		ret
 928               	.L46:
 929 07a6 81E0      		ldi r24,lo8(1)
 930 07a8 90E0      		ldi r25,hi8(1)
 931 07aa 9093 0000 		sts test+1,r25
 932 07ae 8093 0000 		sts test,r24
 933 07b2 00C0      		rjmp .L44
 934               		.size	Test_case, .-Test_case
 935               	.global	Test
 936               		.type	Test, @function
 937               	Test:
 938 07b4 DF92      		push r13
 939 07b6 EF92      		push r14
 940 07b8 FF92      		push r15
 941 07ba 0F93      		push r16
 942 07bc 1F93      		push r17
 943               	/* prologue: function */
 944               	/* frame size = 0 */
 945               	/* stack size = 5 */
 946               	.L__stack_usage = 5
 947 07be EE24      		clr r14
 948 07c0 E394      		inc r14
 949 07c2 E4E0      		ldi r30,lo8(4)
 950 07c4 FE2E      		mov r15,r30
 951 07c6 78E0      		ldi r23,lo8(8)
 952 07c8 D72E      		mov r13,r23
 953 07ca 00C0      		rjmp .L49
 954               	.L48:
 955 07cc 0E94 0000 		call light
 956 07d0 0E94 0000 		call Test_case
 957 07d4 E091 0000 		lds r30,test
 958 07d8 F091 0000 		lds r31,test+1
 959 07dc E050      		subi r30,lo8(-(FND_DATA))
 960 07de F040      		sbci r31,hi8(-(FND_DATA))
 961 07e0 8081      		ld r24,Z
 962 07e2 85BB      		out 53-32,r24
 963 07e4 E092 6500 		sts 101,r14
 964 07e8 8FE3      		 ldi r24,lo8(7999)
 965 07ea 9FE1      	    ldi r25,hi8(7999)
 966 07ec 0197      	    1:sbiw r24,1
 967 07ee 01F4      	    brne 1b
 968 07f0 00C0      		rjmp .
 969 07f2 0000      		nop
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 18


 970 07f4 8FE3      		 ldi r24,lo8(7999)
 971 07f6 9FE1      	    ldi r25,hi8(7999)
 972 07f8 0197      	    1:sbiw r24,1
 973 07fa 01F4      	    brne 1b
 974 07fc 00C0      		rjmp .
 975 07fe 0000      		nop
 976 0800 8091 0000 		lds r24,FND_DATA+25
 977 0804 85BB      		out 53-32,r24
 978 0806 F092 6500 		sts 101,r15
 979 080a 8FE3      		 ldi r24,lo8(7999)
 980 080c 9FE1      	    ldi r25,hi8(7999)
 981 080e 0197      	    1:sbiw r24,1
 982 0810 01F4      	    brne 1b
 983 0812 00C0      		rjmp .
 984 0814 0000      		nop
 985 0816 8091 0000 		lds r24,FND_DATA+24
 986 081a 85BB      		out 53-32,r24
 987 081c D092 6500 		sts 101,r13
 988 0820 8FE3      		 ldi r24,lo8(7999)
 989 0822 9FE1      	    ldi r25,hi8(7999)
 990 0824 0197      	    1:sbiw r24,1
 991 0826 01F4      	    brne 1b
 992 0828 00C0      		rjmp .
 993 082a 0000      		nop
 994               	.L49:
 995 082c 8091 0000 		lds r24,test_case
 996 0830 9091 0000 		lds r25,test_case+1
 997 0834 8130      		cpi r24,1
 998 0836 9105      		cpc r25,__zero_reg__
 999 0838 01F4      		brne .L48
 1000 083a 0E94 0000 		call clear_fnd
 1001 083e 8091 0000 		lds r24,Mbox
 1002 0842 9091 0000 		lds r25,Mbox+1
 1003 0846 60E0      		ldi r22,lo8(test)
 1004 0848 70E0      		ldi r23,hi8(test)
 1005 084a 0E94 0000 		call OSMboxPost
 1006 084e 8091 0000 		lds r24,led_grp
 1007 0852 9091 0000 		lds r25,led_grp+1
 1008 0856 6FEF      		ldi r22,lo8(-1)
 1009 0858 42E8      		ldi r20,lo8(-126)
 1010 085a 20E0      		ldi r18,lo8(0)
 1011 085c 30E0      		ldi r19,hi8(0)
 1012 085e 00E0      		ldi r16,lo8(err)
 1013 0860 10E0      		ldi r17,hi8(err)
 1014 0862 0E94 0000 		call OSFlagPend
 1015 0866 00C0      		rjmp .L48
 1016               		.size	Test, .-Test
 1017               	.global	test
 1018               		.data
 1019               		.type	test, @object
 1020               		.size	test, 2
 1021               	test:
 1022 0000 0100      		.word	1
 1023               	.global	switch_state
 1024               	.global	switch_state
 1025               		.section .bss
 1026               		.type	switch_state, @object
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 19


 1027               		.size	switch_state, 2
 1028               	switch_state:
 1029 0000 0000      		.skip 2,0
 1030               	.global	switch_click
 1031               	.global	switch_click
 1032               		.type	switch_click, @object
 1033               		.size	switch_click, 2
 1034               	switch_click:
 1035 0002 0000      		.skip 2,0
 1036               	.global	switch_cnt
 1037               		.data
 1038               		.type	switch_cnt, @object
 1039               		.size	switch_cnt, 2
 1040               	switch_cnt:
 1041 0002 FFFF      		.word	-1
 1042               	.global	test_case
 1043               	.global	test_case
 1044               		.section .bss
 1045               		.type	test_case, @object
 1046               		.size	test_case, 2
 1047               	test_case:
 1048 0004 0000      		.skip 2,0
 1049               	.global	buzzer_state
 1050               	.global	buzzer_state
 1051               		.type	buzzer_state, @object
 1052               		.size	buzzer_state, 2
 1053               	buzzer_state:
 1054 0006 0000      		.skip 2,0
 1055               	.global	melody_idx
 1056               	.global	melody_idx
 1057               		.type	melody_idx, @object
 1058               		.size	melody_idx, 2
 1059               	melody_idx:
 1060 0008 0000      		.skip 2,0
 1061               	.global	melody1_idx
 1062               	.global	melody1_idx
 1063               		.type	melody1_idx, @object
 1064               		.size	melody1_idx, 2
 1065               	melody1_idx:
 1066 000a 0000      		.skip 2,0
 1067               	.global	idx
 1068               	.global	idx
 1069               		.type	idx, @object
 1070               		.size	idx, 2
 1071               	idx:
 1072 000c 0000      		.skip 2,0
 1073               	.global	win_melody
 1074               		.data
 1075               		.type	win_melody, @object
 1076               		.size	win_melody, 50
 1077               	win_melody:
 1078 0004 61        		.byte	97
 1079 0005 42        		.byte	66
 1080 0006 42        		.byte	66
 1081 0007 61        		.byte	97
 1082 0008 42        		.byte	66
 1083 0009 11        		.byte	17
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 20


 1084 000a 2B        		.byte	43
 1085 000b 42        		.byte	66
 1086 000c 2B        		.byte	43
 1087 000d 11        		.byte	17
 1088 000e 42        		.byte	66
 1089 000f 61        		.byte	97
 1090 0010 11        		.byte	17
 1091 0011 61        		.byte	97
 1092 0012 11        		.byte	17
 1093 0013 61        		.byte	97
 1094 0014 11        		.byte	17
 1095 0015 61        		.byte	97
 1096 0016 42        		.byte	66
 1097 0017 61        		.byte	97
 1098 0018 2B        		.byte	43
 1099 0019 4D        		.byte	77
 1100 001a 42        		.byte	66
 1101 001b 2B        		.byte	43
 1102 001c 11        		.byte	17
 1103 001d 42        		.byte	66
 1104 001e 42        		.byte	66
 1105 001f 42        		.byte	66
 1106 0020 42        		.byte	66
 1107 0021 42        		.byte	66
 1108 0022 4D        		.byte	77
 1109 0023 4D        		.byte	77
 1110 0024 42        		.byte	66
 1111 0025 2B        		.byte	43
 1112 0026 2B        		.byte	43
 1113 0027 2B        		.byte	43
 1114 0028 4D        		.byte	77
 1115 0029 72        		.byte	114
 1116 002a 61        		.byte	97
 1117 002b 42        		.byte	66
 1118 002c 42        		.byte	66
 1119 002d 42        		.byte	66
 1120 002e 42        		.byte	66
 1121 002f 42        		.byte	66
 1122 0030 4D        		.byte	77
 1123 0031 72        		.byte	114
 1124 0032 61        		.byte	97
 1125 0033 4D        		.byte	77
 1126 0034 42        		.byte	66
 1127 0035 2B        		.byte	43
 1128               	.global	FND_DATA
 1129               		.type	FND_DATA, @object
 1130               		.size	FND_DATA, 26
 1131               	FND_DATA:
 1132 0036 3F        		.byte	63
 1133 0037 06        		.byte	6
 1134 0038 5B        		.byte	91
 1135 0039 4F        		.byte	79
 1136 003a 66        		.byte	102
 1137 003b 6D        		.byte	109
 1138 003c 7D        		.byte	125
 1139 003d 27        		.byte	39
 1140 003e 7F        		.byte	127
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 21


 1141 003f 6F        		.byte	111
 1142 0040 77        		.byte	119
 1143 0041 7C        		.byte	124
 1144 0042 39        		.byte	57
 1145 0043 5E        		.byte	94
 1146 0044 79        		.byte	121
 1147 0045 71        		.byte	113
 1148 0046 80        		.byte	-128
 1149 0047 40        		.byte	64
 1150 0048 08        		.byte	8
 1151 0049 3C        		.byte	60
 1152 004a 1E        		.byte	30
 1153 004b 54        		.byte	84
 1154 004c 38        		.byte	56
 1155 004d 79        		.byte	121
 1156 004e 07        		.byte	7
 1157 004f 31        		.byte	49
 1158               		.comm TaskStk,640,1
 1159               		.comm led_grp,2,1
 1160               		.comm buzzer_grp,2,1
 1161               		.comm buzzer1_grp,2,1
 1162               		.comm case_grp,2,1
 1163               		.comm Mbox,6,1
 1164               		.comm queue_to_led,2,1
 1165               		.comm Sem,2,1
 1166               		.comm led_queue,10,1
 1167               		.comm FndNum,1,1
 1168               		.comm err,1,1
 1169               	.global __do_copy_data
 1170               	.global __do_clear_bss
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 lab2.c
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:2      *ABS*:0000003f __SREG__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:3      *ABS*:0000003e __SP_H__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:4      *ABS*:0000003d __SP_L__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:5      *ABS*:00000034 __CCP__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:7      *ABS*:00000001 __zero_reg__
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:11     .text:00000000 Buzzer
                            *COM*:00000002 buzzer_grp
                            *COM*:00000001 err
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1071   .bss:0000000c idx
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1059   .bss:00000008 melody_idx
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1077   .data:00000004 win_melody
                            *COM*:00000002 led_grp
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:79     .text:0000009a Buzzer1
                            *COM*:00000002 buzzer1_grp
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:149    .text:00000138 Led
                            *COM*:00000006 Mbox
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1034   .bss:00000002 switch_click
                            *COM*:00000002 Sem
                            *COM*:00000002 queue_to_led
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:310    .text:00000296 __vector_10
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1053   .bss:00000006 buzzer_state
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:385    .text:0000032a __vector_5
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1028   .bss:00000000 switch_state
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1040   .data:00000002 switch_cnt
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:470    .text:000003e8 __vector_6
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1047   .bss:00000004 test_case
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:531    .text:00000460 main
                            *COM*:0000000a led_queue
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:726    .text:00000600 Fnd
                            *COM*:00000280 TaskStk
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:937    .text:000007b4 Test
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:680    .text:000005b6 clear_fnd
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1131   .data:00000036 FND_DATA
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:864    .text:00000730 light
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:886    .text:00000748 Test_case
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1021   .data:00000000 test
C:\Users\simwo\AppData\Local\Temp\ccRaR574.s:1065   .bss:0000000a melody1_idx
                            *COM*:00000002 case_grp
                            *COM*:00000001 FndNum

UNDEFINED SYMBOLS
OSFlagPend
OSFlagPost
OSMboxPend
OSSemPend
OSMboxPost
OSSemPost
OSQPend
OSQPost
OSInit
OSSemCreate
OSMboxCreate
OSQCreate
OSFlagCreate
GAS LISTING C:\Users\simwo\AppData\Local\Temp\ccRaR574.s 			page 23


OSTaskCreate
OSStart
__do_copy_data
__do_clear_bss
